# UOMI 水龙头自动领取机器人

这是一个自动化的 UOMI 水龙头领取机器人，支持多账户、代理轮换和24小时定时领取功能。

## 功能特点

- 🔄 **多账户支持**: 支持多个钱包地址轮换领取
- 🌐 **代理轮换**: 每个账户对应一个代理IP，避免IP限制
- ⏰ **定时领取**: 自动检测24小时冷却时间，到时自动领取
- 📝 **日志记录**: 详细的操作日志，便于监控和调试
- 🛡️ **错误处理**: 完善的异常处理机制，确保稳定运行

## 安装依赖

```bash
# 安装 Python 依赖
pip install -r requirements.txt

# 安装 Playwright 浏览器
playwright install chromium
```

## 配置文件

### 1. address.txt
在此文件中添加您的钱包地址，每行一个：

```
0x112345
0x112345
0x112345
```

### 2. proxy.txt
在此文件中添加代理服务器，支持两种格式：

```
# 无认证代理
127.0.0.1:8080
192.168.1.100:3128

# 有认证代理
proxy.example.com:8080:username:password
```

## 使用方法

```bash
python bot.py
```
程序会提示您手动获取验证码令牌。


1. **地址轮换**: 按顺序处理每个钱包地址
2. **代理分配**: 第N个地址使用第N个代理（循环分配）
3. **时间检查**: 检查距离上次领取是否超过24小时
4. **Playwright 自动验证码流程**:
   - 步骤1: 启动无头浏览器访问 UOMI 水龙头页面
   - 步骤2: 注入 Web3 钱包模拟代码（模拟 MetaMask 连接）
   - 步骤3: 自动连接到 UOMI Finney 网络（Chain ID: 4386）
   - 步骤4: 自动查找并点击验证码复选框 `<div class="checkbox" part="checkbox"></div>`
   - 步骤5: 等待验证码处理完成（状态变为 `data-state="done"`）
   - 步骤6: 查找并点击 REQUEST 按钮触发水龙头请求
   - 步骤7: 监听网络请求捕获 `/faucet/request` 响应中的 `twitterCode`
5. **水龙头领取**:
   - 步骤5: 使用验证码请求 `/faucet/request` 获取 Twitter 验证码
   - 步骤6: 使用 Twitter 验证码请求 `/faucet/claim` 领取代币

## 日志文件

- **控制台输出**: 实时显示运行状态
- **faucet_bot.log**: 保存详细的操作日志

## 注意事项

## Playwright 自动验证码系统

UOMI 使用自定义的验证码系统，本机器人通过 Playwright 无头浏览器自动处理验证码。

### 工作原理

1. **启动浏览器**: 使用 Playwright 启动无头 Chromium 浏览器
2. **访问页面**: 自动访问 UOMI 应用页面
3. **查找验证码**: 定位验证码复选框元素 `<div class="checkbox" part="checkbox"></div>`
4. **自动点击**: 模拟用户点击验证码复选框
5. **提取 Token**: 从网络请求或页面变量中提取验证码 token

### 技术特点

- 🤖 **全自动化**: 无需人工干预，自动完成验证码
- 🎭 **无头模式**: 后台运行，不显示浏览器界面
- 🔄 **智能重试**: 失败时自动重试，提高成功率
- 🌐 **代理支持**: 支持使用代理服务器访问
- 💰 **Web3 钱包模拟**: 自动模拟 MetaMask 连接到 UOMI Finney 网络

### UOMI Finney 网络信息

- **网络名称**: UOMI Finney
- **链ID**: 4386 (0x1122)
- **RPC URL**: https://finney.uomi.ai
- **区块浏览器**: https://explorer.uomi.ai/
- **货币符号**: UOMI

⚠️ **重要提醒**:

1. **浏览器依赖**: 需要安装 Chromium 浏览器，运行 `playwright install chromium`
2. **代理质量**: 确保使用高质量的代理服务，避免被封IP
3. **请求频率**: 代码已内置随机延迟，避免请求过于频繁
4. **合规使用**: 请确保您的使用符合 UOMI 平台的服务条款

## 故障排除

### 常见问题

1. **地址文件不存在**: 确保 `address.txt` 文件存在且包含有效地址
2. **代理连接失败**: 检查代理服务器是否可用
3. **验证码问题**: 需要实现真实的验证码解决方案
4. **网络超时**: 检查网络连接和代理设置

### 日志分析

查看 `faucet_bot.log` 文件获取详细的错误信息和运行状态。

## 许可证

本项目仅供学习和研究使用，请遵守相关法律法规和平台服务条款。
